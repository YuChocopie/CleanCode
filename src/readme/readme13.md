# 동시성

### 동시성 방어 원칙

- 단일 책임 원칙

- 따름 정리: 자료 범위를 제한하라

- 따름 정리: 자료 사본을 사용하라

- 따름 정리: 스레드는 가능한 독립적으로 구현하라

### 생산자 소비자

생산자 스레드와 소비자 스레드가 사용하는 대기열은 한정된 자원이다. 생산자 스레드는 대기열에 빈 공간이 있어야 정보를 채운다. 즉, 빈 공간이 생길 때까지 기다린다.
소비자 스레드는 대기열에 정보가 있어야 가져온다. 즉 , 정보가 채워질 때까지 기다린다. 대기 열을 올바로 사용하고자 생산자 스레드와 소비자 스레드는 서로에게 시그널을 보낸다.
생산자 스레드는 대기열에 정보를 채운 다음 소비자 스레드에게 “대기 열에 정보가 있다”는 시그널을 보낸다.
소비자 스레드는 대기열에서 정보를 읽어들인 후 “대기 열에 빈 공간이 있다”는 시그널을 보낸다.
따라서 잘못하면 생산자 스레드와 소비자 스레드가 둘 다 진행 가능함에도 불구하고 동시에 서로에게서 시그널을 기다릴 가능성이 존재한다.